<!DOCTYPE html>
<html>
<head>
  <title>IBL 2024 player season stats</title>
  <script type="text/javascript" language="javascript" charset="utf8" src="../DataTables/jquery-3.7.0.js"></script>
  <link rel="stylesheet" type="text/css" href="../DataTables/dataTables.dataTables.css"/>
  <link rel="stylesheet" type="text/css" href="../DataTables/fixedColumns.dataTables.css"/>
  <style>
    h1 {text-align: center;}
    th, td { white-space: nowrap; }
    div.container {
        width: 1000px;
        margin: 0 auto;
    }
  </style>
  <script type="text/javascript" language="javascript" charset="utf8" src="../DataTables/dataTables.js"></script>
  <script type="text/javascript" language="javascript" charset="utf8" src="../DataTables/dataTables.fixedColumns.js"></script>


</head>
<body>
  <h1>IBL 2024 player season stats</h1>
  <div id="container2">
    <table class="inputs">
      <tbody>
        <tr>
          <td>Minimum minutes per game:</td>
          <td><input type="text" id="min" name="min"></td>
        </tr>
        <tr>
          <td>Maximum minutes per game:</td>
          <td><input type="text" id="max" name="max"></td>
        </tr>
      </tbody>
    </table>
  </div>
  <div id="container">
  </div>
  <script type="text/javascript" language="javascript" charset="utf8">
  $(document).ready(function() {
  $('#container').load('BoxscorePLSEASON.html', function() {
      $('#BOXPLSEASON').dataTable( {
        scrollY:        "400px",
        scrollX:        true,
        scrollCollapse: true,
        paging:         false,
        fixedColumns: {
          leftColumns:2,
          rightColumns:0
        }
      });
    });

  const minEl = document.querySelector('#min');
  const maxEl = document.querySelector('#max');

  const table = new $('#BOXPLSEASON').dataTable()

  // Custom range filtering function
  table.search.fixed('range', function (searchStr, data, index) {
      var min = parseInt(minEl.value, 10);
      var max = parseInt(maxEl.value, 10);
      var range = parseFloat(data[32]) || 0; // use data for the age column

      if (
          (isNaN(min) && isNaN(max)) ||
          (isNaN(min) && range <= max) ||
          (min <= range && isNaN(max)) ||
          (min <= range && range <= max)
      ) {
          return true;
      }

      return false;
    });

  // Changes to the inputs will trigger a redraw to update the table
  minEl.addEventListener('input', function () {
      table.draw();
    });
  maxEl.addEventListener('input', function () {
      table.draw();
    });
  });

  </script>
</body>
</html>
